(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}})();class a{constructor(){this.marker=document.querySelector(".city-switcher__marker"),this.title=document.querySelector(".city-switcher__title"),this.cities={moscow:{x:"12%",y:"37%"},spb:{x:"12%",y:"20%"},perm:{x:"32%",y:"30%"},vladivostok:{x:"87%",y:"65%"},khabarovsk:{x:"84%",y:"60%"},irkutsk:{x:"70%",y:"48%"},krasnoyarsk:{x:"60%",y:"44%"},tomsk:{x:"56%",y:"43%"},novosibirsk:{x:"52%",y:"45%"},omsk:{x:"47%",y:"46%"},tyumen:{x:"44%",y:"42%"},surgut:{x:"50%",y:"38%"},chelyabinsk:{x:"40%",y:"49%"},ekaterinburg:{x:"39%",y:"45%"},izhevsk:{x:"35%",y:"42%"},ufa:{x:"35%",y:"47%"},kazan:{x:"30%",y:"43%"},orenburg:{x:"34%",y:"52%"},samara:{x:"30%",y:"50%"},nizhny_novgorod:{x:"25%",y:"40%"},krasnodar:{x:"18%",y:"63%"},volgograd:{x:"23%",y:"58%"},rostov:{x:"20%",y:"60%"},belgorod:{x:"17%",y:"50%"},voronezh:{x:"21%",y:"48%"},yaroslavl:{x:"21%",y:"35%"}}}switchCity(e){const{x:s,y:o}=this.cities[e];this.marker.style.transition="all 0.5s cubic-bezier(0.4, 0, 0.2, 1)",this.marker.style.left=s,this.marker.style.top=o,this.title.textContent=this.getCityName(e),this.title.style.animation="pulse 0.5s"}getCityName(e){return{moscow:"Москва",spb:"Санкт-Петербург",perm:"Пермь",vladivostok:"Владивосток",khabarovsk:"Хабаровск",irkutsk:"Иркутск",krasnoyarsk:"Красноярск",tomsk:"Томск",novosibirsk:"Новосибирск",omsk:"Омск",tyumen:"Тюмень",surgut:"Сургут",chelyabinsk:"Челябинск",ekaterinburg:"Екатеринбург",izhevsk:"Ижевск",ufa:"Уфа",kazan:"Казань",orenburg:"Оренбург",samara:"Самара",nizhny_novgorod:"Нижний Новгород",krasnodar:"Краснодар",volgograd:"Волгоград",rostov:"Ростов-на-Дону",belgorod:"Белгород",voronezh:"Воронеж",yaroslavl:"Ярославль"}[e]||"Неизвестный город"}}class c{constructor(e){this.slider=document.querySelector(e),this.images=this.slider.querySelectorAll(".slider-image"),this.prevBtn=this.slider.querySelector(".slider-btn.prev"),this.nextBtn=this.slider.querySelector(".slider-btn.next"),this.current=0,this.init()}init(){this.showImage(this.current),this.prevBtn.addEventListener("click",()=>this.prev()),this.nextBtn.addEventListener("click",()=>this.next())}showImage(e){this.images.forEach((s,o)=>{s.classList.toggle("active",o===e)})}prev(){this.current=(this.current-1+this.images.length)%this.images.length,this.showImage(this.current)}next(){this.current=(this.current+1)%this.images.length,this.showImage(this.current)}}document.addEventListener("DOMContentLoaded",()=>{new c(".slider")});const l=()=>{const i=new a;document.querySelectorAll(".city-switcher__btn").forEach(e=>{e.addEventListener("click",()=>{document.querySelector(".city-switcher__btn.active").classList.remove("active"),e.classList.add("active"),i.switchCity(e.dataset.city)})})},d=()=>{const i=new IntersectionObserver(e=>{e.forEach(s=>{s.isIntersecting&&s.target.classList.add("animate")})},{threshold:.1});document.querySelectorAll(".advantage-card").forEach(e=>{i.observe(e)})},h=()=>{document.querySelector(".slider")&&new c(".slider")};document.addEventListener("DOMContentLoaded",()=>{l(),d(),h()});
